<!DOCTYPE html><html><head><title>C:\Users\ckindel\s\winprint\tests\GetPFans.java</title>
<meta charset="utf-8"/>
<style>
/**
 * prism.js WinPrint theme 
 * Based on prism-coy.css
 * @author Charlie Kindel
 */

code[class*="language-"],
pre[class*="language-"] {
    color: black;
    /* *font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; */
    /* HACK: note 'winprint' font at end. */
    font-family: 'Cascadia Code', Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace, winprint;
    font-size: 7pt;
}

code[class*="language"] {
    max-height: inherit;
    height: inherit;
    display: block;
    overflow: auto;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
    position: relative;
    color: #c92c2c;
    display: inline;
    white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
    color: #999988;
    font-style: italic;
}

.token.namespace {
    opacity: .7;
}

.token.string,
.token.attr-value {
    color: #e3116c;
}

.token.punctuation,
.token.operator {
    color: #393A34; /* no highlight */
}

.token.entity,
.token.url,
.token.symbol,
.token.number,
.token.boolean,
.token.variable,
.token.constant,
.token.property,
.token.regex,
.token.inserted {
    color: #36acaa;
}

.token.atrule,
.token.keyword,
.token.attr-name,
.language-autohotkey .token.selector {
    color: #00a4db;
}

.token.function,
.token.deleted,
.language-autohotkey .token.tag {
    color: #9a050f;
}

.token.tag,
.token.selector,
.language-autohotkey .token.keyword {
    color: #00009f;
}

.token.important,
.token.function,
.token.bold {
    font-weight: bold;
}

.token.italic {
    font-style: italic;
}

/* Plugin styles: Line Numbers */
pre[class*="language-"].line-numbers.line-numbers {
    padding-left: 0;
}

    pre[class*="language-"].line-numbers.line-numbers code {
        padding-left: 3.8em;
    }

    pre[class*="language-"].line-numbers.line-numbers .line-numbers-rows {
        left: 0;
    }

/* Plugin styles: Line Highlight */
pre[class*="language-"][data-line] {
    padding-top: 0;
    padding-bottom: 0;
    padding-left: 0;
}

pre[data-line] code {
    position: relative;
    padding-left: 4em;
}

pre .line-highlight {
    margin-top: 0;
}

code[class*="language-"], pre[class*="language-"] {
font-family: 'Consolas', winprint;
font-size: 8pt;
font-weight: Regular;}
/* These style override Prism built-in (and any provided theme), 
   optimizing for rendering for print. E.g. Colored backgrounds
    make no sense when printing. Also turns off some stuff 
    litehtml does not support correctly.
*/
code[class*="language-"],
pre[class*="language-"] {
    /* no backgrond 
    background: none;*/
    /* linehtml only supports white-space: pre-wrap. word-break: break-all are not yet supported.*/
    /* Relevant docs:
        white-space - https://developer.mozilla.org/en-US/docs/web/css/white-space 
        word-break - https://developer.mozilla.org/en-US/docs/Web/CSS/word-break 
        overflow-wrap - https://developer.mozilla.org/en-US/docs/Web/CSS/overflow-wrap 

        Default for winprint should be `word-break: break-all` 
        Ideally would also support `overflow-wrap: break-word`
    */
    white-space: pre-wrap; /* not good enuf. does not break at non-whitespace chars*/
    overflow-wrap: break-word; /* would work well, except broken line will start on a new line (suboptimal) */
    word-break: break-word; /* ok - may be a preference (breaks at word, then break-all */
    word-break: break-all; /* idea - breaks anywhere */
    /* Force line-height to 'normal' */
    line-height: normal;
    /* Remove all padding and margins */
    padding: 0;
    margin: 0;
    hyphens: auto;
    text-align: left;
    tab-size: 4;
}

/* Code blocks */
pre[class*="language-"] {
    position: relative;
    /* Remove all padding and margins */
    margin: 0;
    padding: 0;
    overflow: visible;
}

/* Background & border */
pre[class*="language-"] > code {
    /* turn off all background features */
    /* no backgrond 
    background: none;*/
    background-image: none;
    /* background-color: transparent;*/
    /* turn off all borders (winprint provides own border mechansim) */
    border-left: 0px;
    border-right: none;
    border-top: none;
    border-bottom: none;
    box-shadow: none;
}

code[class*="language"] {
    /* Remove all padding and margins */
    padding: 0;
    margin: 0;
}

/* Margin bottom to accommodate shadow */
:not(pre) > code[class*="language-"],
pre[class*="language-"] {
    /* Remove all padding and margins (prism-coy) */
    all: unset;
}

    /* Remove any before/after fancy formatting (like coy's shadows) */
    pre[class*="language-"]:before,
    pre[class*="language-"]:after {
        all: initial;
    }

    :not(pre) > code[class*="language-"]:after,
    pre[class*="language-"]:after {
        all: unset;
    }

/* disable operator background found in default prism.js */
.token.comment,
.token.block-comment,
.token.prolog,
.token.doctype,
.token.cdata,
.token.punctuation,
.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.function-name,
.token.constant,
.token.symbol,
.token.deleted,
.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.function,
.token.builtin,
.token.inserted,
.token.operator,
.token.entity,
.token.url,
.token.variable,
.token.atrule,
.token.attr-value,
.token.keyword,
.token.class-name,
.token.regex,
.token.important,
.language-css .token.string,
.style .token.string,
.token.important,
.token.bold,
.token.italic,
.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
    /* no backgrond 
    background: none;*/
}

ol {
    display: block;
    /* This works around a bug in litehmtl where it renders lists too far down */
    margin-top: -0.5em;
    margin-bottom: 0;
    margin-left: 30px;
    margin-right: 0;
    list-style-type: decimal;
    padding-top: 0px;
    padding-right: 0px;
    padding-bottom: 0px;
    padding-left: 0px;
}

li:first-child {
    margin-top: 0;
}

li {
    padding: 0px;
    margin: 0;
    line-height: 0px;
}

body {
    padding: 0px;
    margin: 0px;
}

table {
    border: 0;
    border-spacing: 0;
    padding: 0px;
    margin: 0;
}

tr {
    border: 0;
    border-spacing: 0;
    padding: 0px;
    margin: 0;
}

td {
    border: 0;
    border-spacing: 0;
    padding: 0px;
    margin: 0;
}

td[class*="line-number"] {
    padding-left: 0.5em;
    padding-right: 0.2em;
    margin-right: 0.5em;
    text-align: right;
    vertical-align: top;
    border-right: 1px solid darkgray;
    color: darkgray;
}

</style>
</head><body><pre class="language-java "><code class="language-java"><table>
<tr><td class="line-number">1</td><td></td></tr>
<tr><td class="line-number">2</td><td><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io</span><span class="token punctuation">.</span>*<span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">3</td><td><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net</span><span class="token punctuation">.</span>*<span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">4</td><td><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util</span><span class="token punctuation">.</span>*<span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">5</td><td><span class="token keyword">import</span> <span class="token class-name">DigestSplitter</span><span class="token punctuation">.</span>*<span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">6</td><td></td></tr>
<tr><td class="line-number">7</td><td><span class="token comment">/**</td></tr>
<tr><td class="line-number">8</td><td> * &lt;strong>GetPFans&lt;/strong> -- making a URL connection and</td></tr>
<tr><td class="line-number">9</td><td> * getting information from it.</td></tr>
<tr><td class="line-number">10</td><td> */</span></td></tr>
<tr><td class="line-number">11</td><td><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GetPFans</span> </td></tr>
<tr><td class="line-number">12</td><td><span class="token punctuation">{</span> </td></tr>
<tr><td class="line-number">13</td><td></td></tr>
<tr><td class="line-number">14</td><td>	<span class="token comment">/** Perform the process of binding to a URL</td></tr>
<tr><td class="line-number">15</td><td>	 * @param urlString URL to bind to.</td></tr>
<tr><td class="line-number">16</td><td>	 * @return Returns an input stream for the URL.</td></tr>
<tr><td class="line-number">17</td><td>	 */</span></td></tr>
<tr><td class="line-number">18</td><td>	<span class="token keyword">static</span> <span class="token class-name">InputStream</span> <span class="token class-name">BindToURL</span><span class="token punctuation">(</span><span class="token class-name">String</span> urlString<span class="token punctuation">)</span></td></tr>
<tr><td class="line-number">19</td><td>	<span class="token punctuation">{</span></td></tr>
<tr><td class="line-number">20</td><td>		<span class="token class-name">URL</span> url<span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">21</td><td>		<span class="token class-name">URLConnection</span> connection<span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">22</td><td>		<span class="token keyword">int</span> contentLength<span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">23</td><td>		<span class="token class-name">String</span> contentType<span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">24</td><td>		<span class="token class-name">InputStream</span> inStream<span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">25</td><td>		</td></tr>
<tr><td class="line-number">26</td><td>		<span class="token comment">/* Create URL, make the connection, and get its input stream.</td></tr>
<tr><td class="line-number">27</td><td>		 * NOTE:  methods for getting URLConnection information, such as</td></tr>
<tr><td class="line-number">28</td><td>		 * getContentLength() and getContentType(), require a prior call to</td></tr>
<tr><td class="line-number">29</td><td>		 * getInputStream(), even if you don't actually read from the stream.</td></tr>
<tr><td class="line-number">30</td><td>		 */</span></td></tr>
<tr><td class="line-number">31</td><td>		<span class="token keyword">try</span> </td></tr>
<tr><td class="line-number">32</td><td>		<span class="token punctuation">{</span></td></tr>
<tr><td class="line-number">33</td><td>		    url <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">URL</span><span class="token punctuation">(</span>urlString<span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">34</td><td>		    connection <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">openConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">35</td><td>		    inStream <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">36</td><td>		<span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">MalformedURLException</span> e<span class="token punctuation">)</span> </td></tr>
<tr><td class="line-number">37</td><td>		<span class="token punctuation">{</span></td></tr>
<tr><td class="line-number">38</td><td>		    <span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Exception:  "</span> <span class="token operator">+</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">39</td><td>		    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">40</td><td>		<span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> </td></tr>
<tr><td class="line-number">41</td><td>		<span class="token punctuation">{</span></td></tr>
<tr><td class="line-number">42</td><td>		    <span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Exception:  "</span> <span class="token operator">+</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">43</td><td>		    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">44</td><td>		<span class="token punctuation">}</span></td></tr>
<tr><td class="line-number">45</td><td></td></tr>
<tr><td class="line-number">46</td><td>		</td></tr>
<tr><td class="line-number">47</td><td>		<span class="token keyword">return</span> inStream<span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">48</td><td>	<span class="token punctuation">}</span></td></tr>
<tr><td class="line-number">49</td><td>	</td></tr>
<tr><td class="line-number">50</td><td>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span></td></tr>
<tr><td class="line-number">51</td><td>	<span class="token punctuation">{</span></td></tr>
<tr><td class="line-number">52</td><td>		<span class="token class-name">InputStream</span> inStream<span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">53</td><td>		<span class="token class-name">String</span> list<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"911"</span><span class="token punctuation">,</span></td></tr>
<tr><td class="line-number">54</td><td>						<span class="token string">"General"</span><span class="token punctuation">,</span> </td></tr>
<tr><td class="line-number">55</td><td>						<span class="token string">"356"</span><span class="token punctuation">,</span></td></tr>
<tr><td class="line-number">56</td><td>						<span class="token string">"914"</span><span class="token punctuation">,</span></td></tr>
<tr><td class="line-number">57</td><td>						<span class="token string">"924-944"</span><span class="token punctuation">,</span></td></tr>
<tr><td class="line-number">58</td><td>						<span class="token string">"928"</span><span class="token punctuation">,</span></td></tr>
<tr><td class="line-number">59</td><td>						<span class="token string">"Boxster"</span><span class="token punctuation">,</span></td></tr>
<tr><td class="line-number">60</td><td>						<span class="token string">"Racing"</span><span class="token punctuation">,</span></td></tr>
<tr><td class="line-number">61</td><td>						<span class="token string">"Flamers"</span><span class="token punctuation">,</span></td></tr>
<tr><td class="line-number">62</td><td>						 <span class="token string">"Tavern"</span><span class="token punctuation">}</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">63</td><td>		<span class="token class-name">String</span> month<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"01"</span><span class="token punctuation">,</span> <span class="token string">"02"</span><span class="token punctuation">,</span> <span class="token string">"03"</span><span class="token punctuation">,</span> <span class="token string">"04"</span><span class="token punctuation">,</span> <span class="token string">"05"</span><span class="token punctuation">,</span> <span class="token string">"06"</span><span class="token punctuation">,</span> <span class="token string">"07"</span><span class="token punctuation">,</span> <span class="token string">"08"</span><span class="token punctuation">,</span> <span class="token string">"09"</span><span class="token punctuation">,</span> <span class="token string">"10"</span><span class="token punctuation">,</span> <span class="token string">"11"</span><span class="token punctuation">,</span> <span class="token string">"12"</span><span class="token punctuation">}</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">64</td><td>		<span class="token class-name">String</span> day<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"01"</span><span class="token punctuation">,</span> <span class="token string">"02"</span><span class="token punctuation">,</span> <span class="token string">"03"</span><span class="token punctuation">,</span> <span class="token string">"04"</span><span class="token punctuation">,</span> <span class="token string">"05"</span><span class="token punctuation">,</span> <span class="token string">"06"</span><span class="token punctuation">,</span> <span class="token string">"07"</span><span class="token punctuation">,</span> <span class="token string">"08"</span><span class="token punctuation">,</span> <span class="token string">"09"</span><span class="token punctuation">,</span> <span class="token string">"10"</span><span class="token punctuation">,</span> </td></tr>
<tr><td class="line-number">65</td><td>						<span class="token string">"11"</span><span class="token punctuation">,</span> <span class="token string">"12"</span><span class="token punctuation">,</span> <span class="token string">"13"</span><span class="token punctuation">,</span> <span class="token string">"14"</span><span class="token punctuation">,</span> <span class="token string">"15"</span><span class="token punctuation">,</span> <span class="token string">"16"</span><span class="token punctuation">,</span> <span class="token string">"17"</span><span class="token punctuation">,</span> <span class="token string">"18"</span><span class="token punctuation">,</span> <span class="token string">"19"</span><span class="token punctuation">,</span> <span class="token string">"20"</span><span class="token punctuation">,</span> </td></tr>
<tr><td class="line-number">66</td><td>						<span class="token string">"21"</span><span class="token punctuation">,</span> <span class="token string">"22"</span><span class="token punctuation">,</span> <span class="token string">"23"</span><span class="token punctuation">,</span> <span class="token string">"24"</span><span class="token punctuation">,</span> <span class="token string">"25"</span><span class="token punctuation">,</span> <span class="token string">"26"</span><span class="token punctuation">,</span> <span class="token string">"27"</span><span class="token punctuation">,</span> <span class="token string">"28"</span><span class="token punctuation">,</span> <span class="token string">"29"</span><span class="token punctuation">,</span> <span class="token string">"30"</span><span class="token punctuation">,</span> <span class="token string">"31"</span><span class="token punctuation">}</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">67</td><td>		<span class="token class-name">String</span> baseURL <span class="token operator">=</span> <span class="token string">"http://www.porschefans.com/Scripts/PorscheFansArchive.pl?PorscheFansArchive="</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">68</td><td>		</td></tr>
<tr><td class="line-number">69</td><td>		<span class="token class-name">String</span> outRoot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">70</td><td>		</td></tr>
<tr><td class="line-number">71</td><td>		<span class="token class-name">Calendar</span> rightNow <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">72</td><td></td></tr>
<tr><td class="line-number">73</td><td>		<span class="token keyword">int</span> startYear <span class="token operator">=</span> <span class="token number">96</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">74</td><td>		<span class="token keyword">int</span> endYear <span class="token operator">=</span> rightNow<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>rightNow<span class="token punctuation">.</span>YEAR<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1900</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">75</td><td>		<span class="token keyword">int</span> startDay <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">76</td><td>		<span class="token keyword">int</span> endDay <span class="token operator">=</span> rightNow<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>rightNow<span class="token punctuation">.</span>DAY_OF_MONTH<span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">77</td><td>		<span class="token keyword">int</span> startMonth <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">78</td><td>		<span class="token keyword">int</span> endMonth <span class="token operator">=</span> rightNow<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>rightNow<span class="token punctuation">.</span>MONTH<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">79</td><td>		</td></tr>
<tr><td class="line-number">80</td><td>		</td></tr>
<tr><td class="line-number">81</td><td>		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> a <span class="token operator">&lt;</span> args<span class="token punctuation">.</span>length <span class="token punctuation">;</span> a<span class="token operator">++</span><span class="token punctuation">)</span></td></tr>
<tr><td class="line-number">82</td><td>		<span class="token punctuation">{</span></td></tr>
<tr><td class="line-number">83</td><td>			<span class="token class-name">StringTokenizer</span> st <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringTokenizer</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">":"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">84</td><td>			<span class="token class-name">String</span> cmd<span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">85</td><td>			<span class="token keyword">while</span> <span class="token punctuation">(</span>st<span class="token punctuation">.</span><span class="token function">hasMoreTokens</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> </td></tr>
<tr><td class="line-number">86</td><td>			<span class="token punctuation">{</span>         </td></tr>
<tr><td class="line-number">87</td><td>				cmd <span class="token operator">=</span> st<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">88</td><td>				<span class="token keyword">if</span> <span class="token punctuation">(</span>cmd<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token string">"/h"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span></td></tr>
<tr><td class="line-number">89</td><td>				<span class="token punctuation">{</span></td></tr>
<tr><td class="line-number">90</td><td>					<span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Usage: GetPFans [/h] [/s:yy-mm-dd] [/d:dest-dir]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">91</td><td>					<span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  Where"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">92</td><td>					<span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"     /h = Help."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">93</td><td>					<span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"     /s = Specify start date (in the form yy[-mm[-dd]])"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">94</td><td>					<span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"     dest-dir = Desitination directory"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">95</td><td>					<span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">96</td><td>					<span class="token keyword">continue</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">97</td><td>				<span class="token punctuation">}</span></td></tr>
<tr><td class="line-number">98</td><td>				<span class="token keyword">if</span> <span class="token punctuation">(</span>cmd<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token string">"/s"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span></td></tr>
<tr><td class="line-number">99</td><td>				<span class="token punctuation">{</span></td></tr>
<tr><td class="line-number">100</td><td>					<span class="token class-name">StringTokenizer</span> st2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringTokenizer</span><span class="token punctuation">(</span>st<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">101</td><td>					<span class="token class-name">Integer</span> i <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span>st2<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">102</td><td>					startYear <span class="token operator">=</span> i<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">103</td><td>					<span class="token keyword">if</span> <span class="token punctuation">(</span>st2<span class="token punctuation">.</span><span class="token function">hasMoreTokens</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></td></tr>
<tr><td class="line-number">104</td><td>					<span class="token punctuation">{</span></td></tr>
<tr><td class="line-number">105</td><td>						i <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span>st2<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">106</td><td>						startMonth <span class="token operator">=</span> i<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">107</td><td>						<span class="token keyword">if</span> <span class="token punctuation">(</span>st2<span class="token punctuation">.</span><span class="token function">hasMoreTokens</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></td></tr>
<tr><td class="line-number">108</td><td>						<span class="token punctuation">{</span></td></tr>
<tr><td class="line-number">109</td><td>							i <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span>st2<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">110</td><td>							startDay <span class="token operator">=</span> i<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">111</td><td>						<span class="token punctuation">}</span></td></tr>
<tr><td class="line-number">112</td><td>					<span class="token punctuation">}</span></td></tr>
<tr><td class="line-number">113</td><td>					<span class="token keyword">continue</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">114</td><td>				<span class="token punctuation">}</span></td></tr>
<tr><td class="line-number">115</td><td>				<span class="token keyword">if</span> <span class="token punctuation">(</span>cmd<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token string">"/d"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span></td></tr>
<tr><td class="line-number">116</td><td>				<span class="token punctuation">{</span></td></tr>
<tr><td class="line-number">117</td><td>					outRoot <span class="token operator">=</span> st<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">118</td><td>					<span class="token keyword">continue</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">119</td><td>				<span class="token punctuation">}</span></td></tr>
<tr><td class="line-number">120</td><td>			<span class="token punctuation">}</span>			</td></tr>
<tr><td class="line-number">121</td><td>		<span class="token punctuation">}</span></td></tr>
<tr><td class="line-number">122</td><td>		</td></tr>
<tr><td class="line-number">123</td><td>		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Getting PFans Archives starting at "</span> <span class="token operator">+</span> month<span class="token punctuation">[</span>startMonth<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"/"</span> <span class="token operator">+</span> day<span class="token punctuation">[</span>startDay<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"/"</span> <span class="token operator">+</span> startYear<span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">124</td><td>		</td></tr>
<tr><td class="line-number">125</td><td>		<span class="token keyword">try</span></td></tr>
<tr><td class="line-number">126</td><td>		<span class="token punctuation">{</span></td></tr>
<tr><td class="line-number">127</td><td>			<span class="token class-name">String</span> url<span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">128</td><td>			<span class="token class-name">String</span> sOutDir<span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">129</td><td></td></tr>
<tr><td class="line-number">130</td><td>			<span class="token keyword">int</span> startMonthTemp <span class="token operator">=</span> startMonth<span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">131</td><td>			<span class="token keyword">int</span> startDayTemp <span class="token operator">=</span> startDay<span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">132</td><td>			<span class="token keyword">int</span> startYearTemp <span class="token operator">=</span> startYear<span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">133</td><td></td></tr>
<tr><td class="line-number">134</td><td>			<span class="token comment">// For each of the 10 lists</span></td></tr>
<tr><td class="line-number">135</td><td>			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> list<span class="token punctuation">.</span>length <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span></td></tr>
<tr><td class="line-number">136</td><td>			<span class="token punctuation">{</span></td></tr>
<tr><td class="line-number">137</td><td>				<span class="token comment">// Create directory</span></td></tr>
<tr><td class="line-number">138</td><td>				<span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">>=</span> <span class="token number">1</span><span class="token punctuation">)</span></td></tr>
<tr><td class="line-number">139</td><td>				<span class="token punctuation">{</span></td></tr>
<tr><td class="line-number">140</td><td>					sOutDir <span class="token operator">=</span> outRoot <span class="token operator">+</span> <span class="token class-name">File</span><span class="token punctuation">.</span>separator <span class="token operator">+</span> list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">141</td><td>				<span class="token punctuation">}</span></td></tr>
<tr><td class="line-number">142</td><td>				<span class="token keyword">else</span></td></tr>
<tr><td class="line-number">143</td><td>					sOutDir <span class="token operator">=</span> list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">144</td><td>				<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Creating directory: "</span> <span class="token operator">+</span> sOutDir<span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">145</td><td>				<span class="token comment">//File dir = new File(sOutDir);</span></td></tr>
<tr><td class="line-number">146</td><td>				<span class="token comment">//dir.mkdirs();</span></td></tr>
<tr><td class="line-number">147</td><td></td></tr>
<tr><td class="line-number">148</td><td>				startYear <span class="token operator">=</span> startYearTemp<span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">149</td><td>				startMonth <span class="token operator">=</span> startMonthTemp<span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">150</td><td>				startDay <span class="token operator">=</span> startDayTemp<span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">151</td><td>				</td></tr>
<tr><td class="line-number">152</td><td>				<span class="token keyword">boolean</span> fEnd<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">153</td><td>				</td></tr>
<tr><td class="line-number">154</td><td>				<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> y <span class="token operator">=</span> startYear<span class="token punctuation">;</span> y <span class="token operator">&lt;=</span> endYear <span class="token punctuation">;</span> y<span class="token operator">++</span><span class="token punctuation">)</span></td></tr>
<tr><td class="line-number">155</td><td>				<span class="token punctuation">{</span></td></tr>
<tr><td class="line-number">156</td><td>					<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> m <span class="token operator">=</span> startMonth<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> m <span class="token operator">&lt;</span> <span class="token number">12</span><span class="token punctuation">;</span> m<span class="token operator">++</span><span class="token punctuation">)</span></td></tr>
<tr><td class="line-number">157</td><td>					<span class="token punctuation">{</span></td></tr>
<tr><td class="line-number">158</td><td>						startMonth <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// only use real start value for first year.</span></td></tr>
<tr><td class="line-number">159</td><td>						</td></tr>
<tr><td class="line-number">160</td><td>						<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> d <span class="token operator">=</span> startDay<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> d <span class="token operator">&lt;</span> <span class="token number">31</span><span class="token punctuation">;</span> d<span class="token operator">++</span><span class="token punctuation">)</span></td></tr>
<tr><td class="line-number">161</td><td>						<span class="token punctuation">{</span></td></tr>
<tr><td class="line-number">162</td><td>							startDay <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// only use real start value for first month</span></td></tr>
<tr><td class="line-number">163</td><td>							</td></tr>
<tr><td class="line-number">164</td><td>							<span class="token keyword">if</span> <span class="token punctuation">(</span>y <span class="token operator">==</span> endYear <span class="token operator">&amp;&amp;</span> m <span class="token operator">==</span> <span class="token punctuation">(</span>endMonth<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> d <span class="token operator">>=</span> endDay<span class="token punctuation">)</span></td></tr>
<tr><td class="line-number">165</td><td>							<span class="token punctuation">{</span></td></tr>
<tr><td class="line-number">166</td><td>								fEnd <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">167</td><td>								<span class="token keyword">break</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">168</td><td>							<span class="token punctuation">}</span></td></tr>
<tr><td class="line-number">169</td><td>							</td></tr>
<tr><td class="line-number">170</td><td>							<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"List="</span> <span class="token operator">+</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span>  <span class="token operator">+</span> <span class="token string">", Year="</span> <span class="token operator">+</span> y <span class="token operator">+</span> <span class="token string">", Month="</span> <span class="token operator">+</span> month<span class="token punctuation">[</span>m<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">", Day="</span> <span class="token operator">+</span> day<span class="token punctuation">[</span>d<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">171</td><td>							url <span class="token operator">=</span>  baseURL <span class="token operator">+</span> list<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"&amp;Month="</span> <span class="token operator">+</span> month<span class="token punctuation">[</span>m<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"&amp;Day="</span> <span class="token operator">+</span> day<span class="token punctuation">[</span>d<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"&amp;Year="</span> <span class="token operator">+</span> y<span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">172</td><td></td></tr>
<tr><td class="line-number">173</td><td>							inStream <span class="token operator">=</span> <span class="token class-name">GetPFans</span><span class="token punctuation">.</span><span class="token class-name">BindToURL</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">174</td><td>			</td></tr>
<tr><td class="line-number">175</td><td>							<span class="token class-name">BufferedReader</span> in <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>inStream<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">176</td><td>							<span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">177</td><td></td></tr>
<tr><td class="line-number">178</td><td>							<span class="token keyword">try</span> </td></tr>
<tr><td class="line-number">179</td><td>							<span class="token punctuation">{</span></td></tr>
<tr><td class="line-number">180</td><td>								<span class="token comment">// look for &lt;pre> or 'no archive"</span></td></tr>
<tr><td class="line-number">181</td><td>								s <span class="token operator">=</span> in<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">182</td><td>								<span class="token keyword">while</span> <span class="token punctuation">(</span>s <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span></td></tr>
<tr><td class="line-number">183</td><td>								<span class="token punctuation">{</span></td></tr>
<tr><td class="line-number">184</td><td>									<span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token string">"&lt;pre>"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> </td></tr>
<tr><td class="line-number">185</td><td>										<span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">// Time to go to work!</span></td></tr>
<tr><td class="line-number">186</td><td>									<span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token string">"&lt;h2>Sorry, there is no PorscheFans Archive available for this date.&lt;/h2>"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span></td></tr>
<tr><td class="line-number">187</td><td>									<span class="token punctuation">{</span></td></tr>
<tr><td class="line-number">188</td><td>										<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  No archive."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">189</td><td>										s <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// abort!</span></td></tr>
<tr><td class="line-number">190</td><td>										<span class="token keyword">break</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">191</td><td>									<span class="token punctuation">}</span></td></tr>
<tr><td class="line-number">192</td><td>									s <span class="token operator">=</span> in<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">193</td><td>								<span class="token punctuation">}</span></td></tr>
<tr><td class="line-number">194</td><td>								</td></tr>
<tr><td class="line-number">195</td><td>								<span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span></td></tr>
<tr><td class="line-number">196</td><td>								<span class="token punctuation">{</span></td></tr>
<tr><td class="line-number">197</td><td>									<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  No file created."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">198</td><td>									in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">199</td><td>									inStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">200</td><td>									<span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token comment">// skip this file</span></td></tr>
<tr><td class="line-number">201</td><td>								<span class="token punctuation">}</span></td></tr>
<tr><td class="line-number">202</td><td>								</td></tr>
<tr><td class="line-number">203</td><td>								<span class="token comment">// Create a temporary file</span></td></tr>
<tr><td class="line-number">204</td><td>								<span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrintWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BufferedWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token string">"GetPFans~.tmp"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">205</td><td>								</td></tr>
<tr><td class="line-number">206</td><td><span class="token comment">//								out.println("PorscheFans " + list[i] + " list archive");</span></td></tr>
<tr><td class="line-number">207</td><td><span class="token comment">//								out.println("For " + month[m] + "/" + day[d] + "/" + y);</span></td></tr>
<tr><td class="line-number">208</td><td><span class="token comment">//								out.println("---------------------");</span></td></tr>
<tr><td class="line-number">209</td><td></td></tr>
<tr><td class="line-number">210</td><td>								<span class="token comment">// Read/Write to temp file</span></td></tr>
<tr><td class="line-number">211</td><td>								s <span class="token operator">=</span> in<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">212</td><td>								<span class="token keyword">while</span> <span class="token punctuation">(</span>s <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span></td></tr>
<tr><td class="line-number">213</td><td>								<span class="token punctuation">{</span></td></tr>
<tr><td class="line-number">214</td><td>									<span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token string">"&lt;/pre>"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// we are done</span></td></tr>
<tr><td class="line-number">215</td><td>										<span class="token keyword">break</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">216</td><td>									out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">217</td><td>									s <span class="token operator">=</span> in<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">218</td><td>								<span class="token punctuation">}</span></td></tr>
<tr><td class="line-number">219</td><td>								out<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">220</td><td>								in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">221</td><td>								inStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">222</td><td>								</td></tr>
<tr><td class="line-number">223</td><td>								<span class="token class-name">String</span> sDigest <span class="token operator">=</span> y <span class="token operator">+</span> month<span class="token punctuation">[</span>m<span class="token punctuation">]</span> <span class="token operator">+</span> day<span class="token punctuation">[</span>d<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"-"</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">224</td><td>								<span class="token comment">// Append year to output directory</span></td></tr>
<tr><td class="line-number">225</td><td>								<span class="token class-name">String</span> sTmp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>sDigest<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>sDigest<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">7</span><span class="token punctuation">,</span> sDigest<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">226</td><td>								<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>sTmp<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">50</span><span class="token punctuation">)</span> </td></tr>
<tr><td class="line-number">227</td><td>									sTmp <span class="token operator">=</span> <span class="token string">"20"</span> <span class="token operator">+</span> sTmp<span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">228</td><td>								<span class="token keyword">else</span></td></tr>
<tr><td class="line-number">229</td><td>									sTmp <span class="token operator">=</span> <span class="token string">"19"</span> <span class="token operator">+</span> sTmp<span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">230</td><td>								sOutDir <span class="token operator">=</span> sOutDir <span class="token operator">+</span> <span class="token class-name">File</span><span class="token punctuation">.</span>separator <span class="token operator">+</span> sTmp<span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">231</td><td></td></tr>
<tr><td class="line-number">232</td><td>								<span class="token comment">// Append month to output directory</span></td></tr>
<tr><td class="line-number">233</td><td>								sTmp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>sDigest<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>sDigest<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">5</span><span class="token punctuation">,</span> sDigest<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">234</td><td>								sOutDir <span class="token operator">=</span> sOutDir <span class="token operator">+</span> <span class="token class-name">File</span><span class="token punctuation">.</span>separator <span class="token operator">+</span> sTmp<span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">235</td><td></td></tr>
<tr><td class="line-number">236</td><td>								<span class="token comment">// Create the directory</span></td></tr>
<tr><td class="line-number">237</td><td>								<span class="token class-name">File</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>sOutDir<span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">238</td><td>								f<span class="token punctuation">.</span><span class="token function">mkdirs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">239</td><td>								</td></tr>
<tr><td class="line-number">240</td><td>								<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"  Splitting "</span> <span class="token operator">+</span> sDigest <span class="token operator">+</span> <span class="token string">" to "</span> <span class="token operator">+</span> sOutDir <span class="token operator">+</span> <span class="token string">"..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">241</td><td>								inStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"GetPfans~.tmp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">242</td><td>								<span class="token class-name">DigestSplitter</span> splitter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DigestSplitter</span><span class="token punctuation">(</span>inStream<span class="token punctuation">,</span> sOutDir<span class="token punctuation">,</span> sDigest<span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">243</td><td>								splitter<span class="token punctuation">.</span><span class="token class-name">Process</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">244</td><td>								inStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">245</td><td>								</td></tr>
<tr><td class="line-number">246</td><td>								<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">".done!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">247</td><td>							<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span>	</td></tr>
<tr><td class="line-number">248</td><td>							<span class="token punctuation">{</span></td></tr>
<tr><td class="line-number">249</td><td>							    <span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Exception reading:  "</span> <span class="token operator">+</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">250</td><td>								<span class="token keyword">return</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">251</td><td>							<span class="token punctuation">}</span></td></tr>
<tr><td class="line-number">252</td><td>						<span class="token punctuation">}</span> <span class="token comment">// day</span></td></tr>
<tr><td class="line-number">253</td><td>						<span class="token keyword">if</span> <span class="token punctuation">(</span>fEnd <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span></td></tr>
<tr><td class="line-number">254</td><td>							<span class="token keyword">break</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">255</td><td>					<span class="token punctuation">}</span> <span class="token comment">// month</span></td></tr>
<tr><td class="line-number">256</td><td>					<span class="token keyword">if</span> <span class="token punctuation">(</span>fEnd <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span></td></tr>
<tr><td class="line-number">257</td><td>						<span class="token keyword">break</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">258</td><td>				<span class="token punctuation">}</span> <span class="token comment">// year</span></td></tr>
<tr><td class="line-number">259</td><td>			<span class="token punctuation">}</span> <span class="token comment">// list</span></td></tr>
<tr><td class="line-number">260</td><td>		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span>	</td></tr>
<tr><td class="line-number">261</td><td>		<span class="token punctuation">{</span></td></tr>
<tr><td class="line-number">262</td><td>		    <span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Exception:  "</span> <span class="token operator">+</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">263</td><td>			<span class="token keyword">return</span><span class="token punctuation">;</span></td></tr>
<tr><td class="line-number">264</td><td>		<span class="token punctuation">}</span></td></tr>
<tr><td class="line-number">265</td><td>	<span class="token punctuation">}</span></td></tr>
<tr><td class="line-number">266</td><td><span class="token punctuation">}</span></td></tr>
<tr><td class="line-number">267</td><td></td></tr>
</table></code></pre>
</body></html>
